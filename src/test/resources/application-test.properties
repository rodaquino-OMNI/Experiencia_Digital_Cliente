# Test Profile Configuration for AUSTA Digital Experience Platform

# ========== Spring Configuration ==========
spring.application.name=experiencia-digital-test
spring.profiles.active=test

# ========== Logging Configuration ==========
logging.level.root=INFO
logging.level.br.com.austa=DEBUG
logging.level.org.camunda=INFO
logging.level.org.springframework=INFO
logging.level.org.testcontainers=INFO

# ========== Database Configuration ==========
# Configured dynamically by TestContainersConfig
# spring.datasource.url=
# spring.datasource.username=
# spring.datasource.password=

spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# ========== Kafka Configuration ==========
# Configured dynamically by TestContainersConfig
# spring.kafka.bootstrap-servers=

spring.kafka.consumer.enable-auto-commit=false
spring.kafka.consumer.properties.isolation.level=read_committed
spring.kafka.producer.acks=all
spring.kafka.producer.retries=3

# ========== Redis Configuration ==========
# Configured dynamically by TestContainersConfig
# spring.redis.host=
# spring.redis.port=

# ========== Camunda BPM Configuration ==========
camunda.bpm.enabled=true
camunda.bpm.job-execution.enabled=false
camunda.bpm.history-level=full
camunda.bpm.id-generator=strong
camunda.bpm.generic-properties.properties.initialize-telemetry=false

# Database settings for Camunda (uses H2 in tests)
camunda.bpm.database.schema-update=true
camunda.bpm.database.type=h2

# Admin user for testing
camunda.bpm.admin-user.id=admin
camunda.bpm.admin-user.password=admin
camunda.bpm.admin-user.firstName=Admin
camunda.bpm.admin-user.lastName=User

# Process deployment
camunda.bpm.deployment-resource-pattern=classpath*:**/*.bpmn,classpath*:**/*.dmn

# ========== External API Mock URLs ==========
# Configured dynamically by MockServersConfig
# integration.tasy.base-url=
# integration.whatsapp.base-url=
# integration.nlp.base-url=
# integration.ocr.base-url=

# API Timeouts (shorter for tests)
integration.tasy.timeout=5000
integration.whatsapp.timeout=5000
integration.nlp.timeout=5000
integration.ocr.timeout=5000

# ========== Feature Flags for Testing ==========
features.nlp.enabled=true
features.ocr.enabled=true
features.whatsapp.enabled=true
features.tasy-integration.enabled=true

# ========== Test-Specific Settings ==========
test.data.cleanup.enabled=true
test.mock.external-apis=true
test.async.timeout.ms=10000

# ========== Security Configuration ==========
# Disable security for testing
spring.security.enabled=false
management.security.enabled=false
